# Mixed Integer Linear Programming Approach

The method used in this directory frames the problem as a Mixed Integer Linear Program (MILP) and solves it using the Gurobi Optimizer. Below are the instructions to compile and run the code.

## Directory Structure

```
├── base.h
├── wt_and_gravity_fix/
│   ├── wt_check_and_fix.py
│   ├── gravity_chk_fix.py
│   ├── pkg.csv
│   ├── uld.csv
├── data/
│   ├── big_uld.csv
│   ├── clean_pkg.py
│   ├── clean_uld.py
│   ├── eco_pkg.csv
│   ├── half_uld.csv
│   ├── pkg.csv
│   ├── pri_pkg.csv
│   ├── raw_pkg.txt
│   ├── raw_uld.txt
│   └── uld.csv
├── log/
│   ├── st1.log
│   ├── st2.log
│   ├── st3.log
│   ├── st4.log
│   ├── st5.log
│   ├── st6.log
├── full.csv
├── main.cpp
├── Makefile
├── pre_process.cpp
├── pre_process.h
├── sol.csv
├── solver.cpp
├── solver.h
├── wt_chk_sol.csv
├── gravity_fix_sol.csv
├── solution.txt

```
**solution.txt**-> Final packing generated required by the submission validator
**full.csv** -> Crude solution generated by solver
**wt_chk_sol.csv**-> Solution after applying weight constraints
**gravity_fix_sol.csv**-> After ensuring all the stability constraints
## Prerequisites

### Gurobi Installation

Ensure Gurobi is installed and accessible on your system. Follow these steps:

1. **Download Gurobi** from [Gurobi's official website](https://www.gurobi.com).
2. **Install the Gurobi license** by registering and activating your Gurobi license, we have used the Gurobi Academic License.
3. **Set environment variables:**
   ```bash
   export GUROBI_HOME=/path/to/gurobi/installation
   export PATH=$GUROBI_HOME/bin:$PATH
   export LD_LIBRARY_PATH=$GUROBI_HOME/lib:$LD_LIBRARY_PATH
   ```
4. **Verify Gurobi installation** by running:
   ```bash
   gurobi_cl
   ```

### Additional Requirements

- **Compiler**: Ensure `g++` is installed.

## Compilation and Execution

### Makefile Configuration

Modify the provided `Makefile` to reflect the correct installation paths for Gurobi. Update the `-I` and `-L` flags to point to the appropriate `include` and `lib` directories based on your system.

For example:
```makefile
# Compiler and flags
CXX = g++
CXXFLAGS = -I$(GUROBI_HOME)/include -std=c++11
LDFLAGS = -L$(GUROBI_HOME)/lib -lgurobi_c++ -lgurobi120 -lm

# Source files and output
SRCS = solver.cpp pre_process.cpp main.cpp
OBJS = $(SRCS:.cpp=.o)
TARGET = program

# Default rule
all: $(TARGET)

# Linking
$(TARGET): $(OBJS)
	$(CXX) -o $@ $^ $(LDFLAGS)

# Compilation
%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

# Clean rule
clean:
	rm -f $(OBJS) $(TARGET)

# Phony targets
.PHONY: all clean

```

- Replace `$(GUROBI_HOME)` with the path to your Gurobi installation directory if not set as an environment variable.

### Compilation

1. Navigate to the project directory.
2. Use the `make` command to compile the project:
   ```bash
   make
   ```

### Running the Code

Please run the run script provided after providing the executable permission.
```bash
chmod +x run.sh
./run.sh
```
This will generate the final solution.txt file which contains the packing.

### Cleaning Build Files

To clean up compiled files, use:
```bash
make clean
```

## Python Scripts

### Data Preprocessing

Scripts in the `data/` directory can be used for data cleaning and transformation. For example:
```bash
python3 data/clean_pkg.py
```

## Notes

- Ensure all input files are in the correct format.
- Verify that the Gurobi installation paths in the `Makefile` are correct.
- If there are any issues, confirm the `GUROBI_HOME` path and retry.

## Troubleshooting

1. **Missing Gurobi libraries**: Ensure the Gurobi environment variables are correctly set.
2. **Compilation errors**: Verify the installed version of `g++` supports C++11 or later.
3. **Runtime errors**: Check the input file format and paths.
